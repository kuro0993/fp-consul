<h1>New Appoint</h1>


<%= form_with model: @appoint do |form| %>
  <%# <%= form.collection_select :staff_id, Staff.all, :id, :full_name, prompt: true %>

  <%= month_calendar(events: @acceptable_dates) do |date, acceptable_dates| %>
    <%= date %>

    <% acceptable_dates.each do |acceptable_date| %>
      <div>
        <%= acceptable_date.remaining_count > 0 ? "○#{acceptable_date.remaining_count}" : '☓' %>
      </div>
    <% end %>
  <% end %>

  <ul>
    <% @acceptable_times.each do |f| %>
      <li>
        <div><%= f.start_time.strftime('%H:%M') %>〜<%= f.end_time.strftime('%H:%M') %></div>
        <div><%= f.remaining_count > 0 ? "○#{f.remaining_count}" : '☓' %></div>
      </li>
    <% end %>
  </ul>

  <div>
    <%= form.label :start_datetime %><br>
    <%= form.text_field :start_datetime %>
  </div>

  <div>
    <%= form.label :end_datetime %><br>
    <%= form.text_field :end_datetime %>
  </div>

  <div>
    <%= form.submit %>
  </div>
<% end %>


